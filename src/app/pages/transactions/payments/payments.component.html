<nb-card>
  <nb-card-header>
    Payments
    <button nbButton status="primary" size="tiny" (click)="addPayment()">Add Payment</button>
  </nb-card-header>

  <nb-card-body>
    <nb-spinner *ngIf="loading"></nb-spinner>

    <div *ngIf="!loading && payments.length" class="payment-grid">
      <nb-card *ngFor="let p of payments" class="payment-card">
        <nb-card-header>
          Payment No. {{ p.id }} - Student Name:{{ p.studentName }} -Date:{{ p.paymentDate | date:'shortDate' }}
        </nb-card-header>
        <nb-card-body>
          <div>Mode: {{ p.paymentMode }}</div>
          <div>Amount: {{ p.amount | currency }}</div>
          <div>Type: {{ p.paymentType }}</div>
          <div>Status: {{ p.status }}</div>
        </nb-card-body>
        <nb-card-footer>
          <button nbButton status="info" size="tiny" (click)="editPayment(p)"  *ngIf="1==2">Edit</button>
          <button nbButton status="danger" size="tiny" (click)="deletePayment(p)"  *ngIf="p.status!='Cancelled'">Cancel</button>
          <button nbButton status="primary" size="tiny" (click)="printReceipt(p)" *ngIf="p.status!='Cancelled'">Print</button>
          <button nbButton status="primary" size="tiny" (click)="UpdateVerficaition(p)" *ngIf="p.status=='Verification' ">Verified</button>
        </nb-card-footer>
      </nb-card>
    </div>

    <div *ngIf="!loading && !payments.length">
      No payments found.
    </div>
  </nb-card-body>
</nb-card>
