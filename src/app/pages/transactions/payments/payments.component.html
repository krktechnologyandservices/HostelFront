<nb-card>
  <nb-card-header>
    Payments
    <button nbButton status="primary" size="tiny" (click)="addPayment()">Add Payment</button>
  </nb-card-header>

  <nb-card-body>
    <nb-spinner *ngIf="loading"></nb-spinner>

    <div *ngIf="!loading && payments.length" class="payment-grid">
      <nb-card *ngFor="let p of payments" class="payment-card">
        <nb-card-header>
          {{ p.studentId }} - {{ p.paymentDate | date:'shortDate' }}
        </nb-card-header>
        <nb-card-body>
          <div>Mode: {{ p.paymentMode }}</div>
          <div>Amount: {{ p.amount | currency }}</div>
          <div>Type: {{ p.paymentType }}</div>
        </nb-card-body>
        <nb-card-footer>
          <button nbButton status="info" size="tiny" (click)="editPayment(p)">Edit</button>
          <button nbButton status="danger" size="tiny" (click)="deletePayment(p)">Delete</button>
          <button nbButton status="primary" size="tiny" (click)="printReceipt(p)">Print</button>
        </nb-card-footer>
      </nb-card>
    </div>

    <div *ngIf="!loading && !payments.length">
      No payments found.
    </div>
  </nb-card-body>
</nb-card>
