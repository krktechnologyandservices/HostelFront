<nb-card>
    <nb-card-header>Grace Periods</nb-card-header>
    <nb-card-body>
      <form [formGroup]="form" (ngSubmit)="save()">
        <div class="form-grid">
          <nb-form-field>
            <label for="department">Department</label>
            <input nbInput formControlName="department" id="department" />
            <nb-form-field-error *ngIf="form.get('department')?.invalid && form.get('department')?.touched">
              Department is required
            </nb-form-field-error>
          </nb-form-field>
  
          <nb-form-field>
            <label for="graceMinutes">Grace Minutes</label>
            <input nbInput type="number" formControlName="graceMinutes" id="graceMinutes" />
            <nb-form-field-error *ngIf="form.get('graceMinutes')?.invalid && form.get('graceMinutes')?.touched">
              Must be 0 or more
            </nb-form-field-error>
          </nb-form-field>
  
          <div class="buttons">
            <button nbButton status="success" type="submit" [disabled]="form.invalid">
              {{ isEdit ? 'Update' : 'Add' }}
            </button>
            <button nbButton status="danger" type="button" (click)="cancel()" *ngIf="isEdit">Cancel</button>
          </div>
        </div>
      </form>
  
      <nb-spinner *ngIf="loading" size="small"></nb-spinner>
  
      <table class="table table-striped" *ngIf="!loading && gracePeriods.length">
        <thead>
          <tr>
            <th>Department</th>
            <th>Grace Minutes</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let gp of gracePeriods">
            <td>{{ gp.department }}</td>
            <td>{{ gp.graceMinutes }}</td>
            <td>
              <button nbButton size="tiny" status="info" (click)="edit(gp)">Edit</button>
              <button nbButton size="tiny" status="danger" (click)="delete(gp.id)">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
  
      <p *ngIf="!loading && !gracePeriods.length">No grace periods found.</p>
    </nb-card-body>
  </nb-card>
  